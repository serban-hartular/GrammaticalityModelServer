<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sentence Checker</title>
  <script src="https://unpkg.com/htmx.org@1.9.12"></script>
<!--  <script src="https://unpkg.com/htmx.org/dist/ext/json-enc.js"></script>-->
  <style>
    body { font-family: Arial, sans-serif; margin: 2rem; }
    textarea { width: 100%; height: 120px; }
    table { border-collapse: collapse; width: 100%; margin-top: 1rem; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
    th { background: #f5f5f5; }
    .correct { color: green; font-weight: bold; }
    .incorrect { color: red; font-weight: bold; }
    button { padding: 0.5rem 1rem; margin-top: 1rem; }
    .fineprint {font-family: Courier, serif; font-size: smaller; }

    /* overlay covers the whole screen */
    #processing-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      display: none;            /* hidden by default */
      align-items: center;
      justify-content: center;
      z-index: 9999;
      color: white;
      font-size: 1.5rem;
    }
    #processing-box {
      background: #333;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.7);
    }
  </style>
</head>


<body>

<!-- Hidden processing dialog -->
<div id="processing-overlay">
  <div id="processing-box">Processing request… Please wait.</div>
</div>

<h2>Detector de dezacorduri</h2>
<div>
<p style="font-size:smaller;">
  Acesta este un LLM cu 8b parametri care a fost antrenat să detecteze dezacordurile de
  gen, număr și persoană în limba română.
  Este un model experimental.
</p></div>

<br/>

{% include 'sentence_form.html' %}

<hr/>
<br/><br/>

<div class="fineprint">
<p>&copy; Șerban Hartular, 2025. </p>
<p>Modelul poate fi accesat la
  <a href="https://huggingface.co/hartular/roLl31I-Corrector-RRT_PRESS-0007-EP1-1per">https://huggingface.co/hartular/roLl31I-Corrector-RRT_PRESS-0007-EP1-1per</a>
  și folosit sub licența Creative Commons Attribution Non Commercial 4.0. A fost obținut
  prin fine-tuning-ul modelului
  <a href="https://huggingface.co/OpenLLM-Ro/RoLlama3.1-8b-Instruct">OpenLLM-Ro/RoLlama3.1-8b-Instruct</a>.</p>
<p>Autorul poate fi contactat la adresa <i>hartular@gmail.com</i></p>
</div>

<script>
  // Show overlay before request
  document.body.addEventListener('htmx:beforeRequest', function (evt) {
    document.getElementById('processing-overlay').style.display = 'flex';
  });
  // Hide overlay when response arrives or on error
  document.body.addEventListener('htmx:afterRequest', function (evt) {
    document.getElementById('processing-overlay').style.display = 'none';
  });
  document.body.addEventListener('htmx:responseError', function (evt) {
    document.getElementById('processing-overlay').style.display = 'none';
  });
</script>


<script>
/**
 * Example of how your backend could respond:
 * [
 *   { input: "This is correct.", correct: true, corrected: "This is correct." },
 *   { input: "He go to school.", correct: false, corrected: "He goes to school." }
 * ]
 *
 * The server would render an HTML fragment like below using the JSON data.
 */
</script>

</body>
</html>
